(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{364:function(s,t,a){"use strict";a.r(t);var e=a(45),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[s._v("#")]),s._v(" Installation")]),s._v(" "),a("p",[s._v("Installation is simple, follow this steps:")]),s._v(" "),a("h3",{attrs:{id:"previous-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#previous-requirements"}},[s._v("#")]),s._v(" Previous Requirements")]),s._v(" "),a("p",[s._v("This extra uses Laravel 8 batch processing. If you do not use the Jobs included in the package and make your own\nprocessing jobs you do not need batch processing tables. If you intend to use package jobs refer\nto "),a("a",{attrs:{href:"https://laravel.com/docs/8.x/queues#job-batching",target:"_blank",rel:"noopener noreferrer"}},[s._v("Queues: Job batching"),a("OutboundLink")],1),s._v(" in Laravel's official documentation.")]),s._v(" "),a("h1",{attrs:{id:"installation-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-2"}},[s._v("#")]),s._v(" Installation")]),s._v(" "),a("p",[s._v("Install the package via composer:")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" require bpuig/laravel-subby-schedule\n")])])]),a("p",[s._v("Publish the configuration:")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("php artisan vendor:publish --tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("subby.schedule.config\n")])])]),a("p",[s._v("Publish migrations:")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("php artisan vendor:publish --tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("subby.schedule.migrations\n")])])]),a("p",[s._v("Migrate:")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("php artisan migrate\n")])])]),a("h3",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[s._v("#")]),s._v(" Configuration")]),s._v(" "),a("p",[s._v("Once config is published, you can specify your services:")]),s._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'schedules_per_subscription'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Maximum number of schedules allowed for a subscription (null for no limit)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Database Tables")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'tables'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'plan_subscription_schedules'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'plan_subscription_schedules'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'models'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'plan_subscription_schedule'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Bpuig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SubbySchedule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("PlanSubscriptionSchedule")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'services'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'default'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Bpuig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SubbySchedule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Services"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("DefaultScheduleService")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),a("h3",{attrs:{id:"extend-plan-subscription-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extend-plan-subscription-model"}},[s._v("#")]),s._v(" Extend Plan Subscription Model")]),s._v(" "),a("p",[s._v("Since this extension is activated by a trait in your "),a("code",[s._v("PlanSubscription")]),s._v(" model, you need to extend it.")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("php artisan make:model PlanSubscription\n")])])]),a("p",[s._v("Then edit it to extend package model and add "),a("code",[s._v("IsScheduled")]),s._v(" trait.")]),s._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("namespace")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[s._v("App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Models")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[s._v("Bpuig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SubbySchedule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Traits"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("IsScheduled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PlanSubscription")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Bpuig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Subby"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("PlanSubscription")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[s._v("IsScheduled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])])])]),a("p",[s._v("That is it, now you are capable of scheduling subscription plan changes.")])])}),[],!1,null,null,null);t.default=n.exports}}]);